'use strict';(function(d,f,h,k){function l(a,c){var b=this;this.element=a;this.$ubermenu=d(this.element);this.orientation=this.$ubermenu.hasClass("ubermenu-vertical")?"v":"h";this.settings=d.extend({},t,c);this._defaults=t;this._name="ubermenu";this.settings.responsive=this.$ubermenu.hasClass("ubermenu-responsive")?!0:!1;this.settings.debug&&this.settings.debug_onscreen&&(d("body").append('<div id="uber-onscreen-debug" style="color:#eee;z-index:10000;background:#222;position:fixed;left:0; bottom:0; width:100%; height:50%; padding:10px;overflow:scroll;"> '),
this.debug_target=d("#uber-onscreen-debug"),this.debug_target.on("click",function(){100>d(this).height()?d(this).height("50%"):d(this).height("50px")}));this.log("-- START UBERMENU DEBUG --");this.suppress_clicks=this.events_disabled=!1;(this.touchenabled="ontouchstart"in f||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)?this.$ubermenu.addClass("ubermenu-touch"):this.$ubermenu.addClass("ubermenu-notouch");f.navigator.pointerEnabled?(this.touchStart="pointerdown",this.touchEnd="pointerup",
this.touchMove="pointermove",this.suppress_clicks=!0):f.navigator.msPointerEnabled?(this.touchStart="MSPointerDown",this.touchEnd="MSPointerUp",this.touchMove="MSPointerMove",this.suppress_clicks=!0):(this.touchStart="touchstart",this.touchEnd="touchend",this.touchMove="touchmove");this.toggleevent="touchend"==this.touchEnd?this.touchEnd+" click":this.touchEnd;this.transitionend="transitionend.ubermenu webkitTransitionEnd.ubermenu msTransitionEnd.ubermenu oTransitionEnd.ubermenu";(this.transitions=
uber_supports("transition")&&!this.$ubermenu.hasClass("ubermenu-transition-none"))||this.$ubermenu.addClass("ubermenu-no-transitions");var e=navigator.userAgent.toLowerCase();this.log(e);this.allow_trigger_overrides=!0;this.noTouchEnd=!1;var g=this.settings.android=/android/.test(e),r=this.settings.windowsmobile=/iemobile/.test(e);if(g||r)if(g&&!(/chrome/.test(e)||/firefox/.test(e)||/opera/.test(e))||r)this.settings.touchOffClose=!1,this.disableTransitions(),g&&!r&&(this.$ubermenu.removeClass("ubermenu-trigger-hover_intent").removeClass("ubermenu-trigger-hover").addClass("ubermenu-trigger-click"),
this.allow_trigger_overrides=this.settings.touchEvents=!1);r&&(this.log("disable touchoff close and accessibility"),this.settings.touchOffClose=!1,this.settings.accessible=!1,this.settings.mouseEvents=!1);!/chrome/.test(e)&&/safari/.test(e)&&/version\/5/.test(e)&&this.disableTransitions();var l=this.last_width=f.innerWidth,k=b.$ubermenu.find(".ubermenu-item-level-0.ubermenu-align-right");k.length&&d(f).ubersmartresize(function(){l=f.innerWidth;b.last_width<=b.settings.breakpoint&&l>=b.settings.breakpoint&&
(k.hide(),k[0].offsetHeight,k.show());b.last_width=l});this.settings.clicktest&&(this.touchEnd="click");this.init()}var t={breakpoint:uber_op("responsive_breakpoint",{datatype:"numeric"},959),touchEvents:!0,mouseEvents:!0,retractors:!0,touchOffClose:uber_op("touch_off_close",{datatype:"boolean"},!0),moveThreshold:10,submenuAnimationDuration:500,ignoreDummies:!0,clicktest:!1,windowstest:!1,debug:!1,debug_onscreen:!1,remove_conflicts:uber_op("remove_conflicts",{datatype:"boolean"},!0),reposition_on_load:uber_op("reposition_on_load",
{datatype:"boolean"},!1),accessible:uber_op("accessible",{datatype:"boolean"},!0),retractor_display_strategy:uber_op("retractor_display_strategy",{datatype:"string"},"responsive"),intent_delay:uber_op("intent_delay",{datatype:"numeric"},300),intent_interval:uber_op("intent_interval",{datatype:"numeric"},100),intent_threshold:uber_op("intent_threshold",{datatype:"numeric"},300),scrollto_offset:uber_op("scrollto_offset",{datatype:"numeric"},0),scrollto_duration:uber_op("scrollto_duration",{datatype:"numeric"},
1E3),collapse_after_scroll:uber_op("collapse_after_scroll",{datatype:"boolean"},!0)},p,m,n,q;l.prototype={init:function(){this.log("Initializing UberMenu");this.$ubermenu.removeClass("ubermenu-nojs");this.removeConflicts();this.initializeSubmenuToggleTouchEvents();this.initializeSubmenuToggleMouseEvents();this.initializeRetractors();this.initializeResponsiveToggle();this.initializeTouchoffClose();this.initializeTabs();this.initializeSubmenuPositioning();this.initializeSegmentCurrentStates();this.initializeAccessibilityOnTab();
this.initializeImageLazyLoad()},removeConflicts:function(){this.settings.remove_conflicts&&this.$ubermenu.find(".ubermenu-item, .ubermenu-target, .ubermenu-submenu").add(this.$ubermenu).removeAttr("style").unbind().off()},initializeAccessibilityOnTab:function(){if(this.settings.accessible){var a=this;d("body").on("keydown.ubermenu",function(c){9==(c.keyCode||c.which)&&(d("body").off("keydown.ubermenu"),a.initializeAccessibility())})}},initializeImageLazyLoad:function(){var a=this;d(".ubermenu-item-level-0").one("ubermenuopen",
function(){d(this).find(".ubermenu-image-lazyload").each(function(){d(this).data("srcset")&&d(this).attr("srcset",d(this).data("srcset")).attr("sizes",d(this).data("sizes"));d(this).attr("src",d(this).data("src")).removeClass("ubermenu-image-lazyload")});setTimeout(function(){a.clearTabSizes();a.sizeTabs()},300)})},initializeAccessibility:function(){var a=this;a.$current_focus=!1;a.mousedown=!1;a.$ubermenu.addClass("ubermenu-accessible");a.$ubermenu.on("focus",".ubermenu-target, a, input, select, textarea",
function(){if(!a.mousedown){var c=d(this);a.$current_focus=c;var b=c.parent(".ubermenu-item");b.length&&(b.is(".ubermenu-item-level-0")&&a.closeAllSubmenus(),b.is(".ubermenu-has-submenu-drop")&&setTimeout(function(){c.is(":focus")&&(b.siblings(".ubermenu-has-submenu-drop").each(function(){a.closeSubmenu(d(this),"umac",a)}),a.openSubmenu(b,"umac",a))},500),c.on("blur.ubermenu",".ubermenu-target, a, input, select, textarea",function(b){a.mousedown||(a.$current_focus=!1,d(this).off("blur.ubermenu"),
setTimeout(function(){a.$current_focus||a.closeAllSubmenus()},500));a.mousedown=!1}))}a.mousedown=!1});a.$ubermenu.on("mousedown",function(c){a.mousedown=!0;setTimeout(function(){a.mousedown=!1},100)})},initializeSubmenuPositioning:function(){var a=this;a.positionSubmenus();d(f).ubersmartresize(function(){a.positionSubmenus()});this.settings.reposition_on_load&&d(f).load(function(){a.positionSubmenus()})},initializeSubmenuToggleTouchEvents:function(){if(this.settings.touchEvents){var a=this;this.$ubermenu.on(this.touchStart,
".ubermenu-target:not(.shiftnav-toggle)",function(c){a.handleTouchInteraction(c,this,a)});this.$ubermenu.on("click",".ubermenu-has-submenu-drop > .ubermenu-target, .ubermenu-tab.ubermenu-item-has-children > .ubermenu-target",function(c){a.handleClicks(c,this,a)})}},initializeSubmenuToggleMouseEvents:function(a){a=a||this;if(a.settings.mouseEvents&&!a.settings.clicktest&&!a.settings.windowstest){a.log("initializeSubmenuToggleMouseEvents");var c="hover";a.$ubermenu.hasClass("ubermenu-trigger-click")?
c="click":a.$ubermenu.hasClass("ubermenu-trigger-hover_intent")&&(c="hover_intent");"click"==c?this.suppress_clicks||(this.$ubermenu.on("click.ubermenu-submenu-toggle",".ubermenu-item.ubermenu-has-submenu-drop:not([data-ubermenu-trigger]) > .ubermenu-target",function(b){a.handleMouseClick(b,this,a)}),this.$ubermenu.on("click.ubermenu-click-target",".ubermenu-item:not(.ubermenu-has-submenu-drop):not([data-ubermenu-trigger]) > .ubermenu-target",function(b){a.handleLink(b,this,a)})):"hover_intent"==
c?(this.$ubermenu.on("mouseenter.mouse_intent",".ubermenu-item.ubermenu-has-submenu-drop:not([data-ubermenu-trigger])",function(b){a.handleMouseIntent(b,this,a)}),this.$ubermenu.on("click.ubermenu-click-target",".ubermenu-item:not([data-ubermenu-trigger]) > .ubermenu-target",function(b){a.handleLink(b,this,a)})):(this.$ubermenu.on("mouseenter.ubermenu-submenu-toggle",".ubermenu-item.ubermenu-has-submenu-drop:not([data-ubermenu-trigger]) > .ubermenu-target",function(b){a.handleMouseover(b,this,a)}),
this.$ubermenu.on("click.ubermenu-click-target",".ubermenu-item:not([data-ubermenu-trigger]) > .ubermenu-target",function(b){a.handleLink(b,this,a)}));if(this.allow_trigger_overrides)a.$ubermenu.find(".ubermenu-item[data-ubermenu-trigger]").each(function(){var b=d(this);c=b.data("ubermenu-trigger");if("click"==c){if(!this.suppress_clicks)b.on("click.ubermenu-submenu-toggle",".ubermenu-target",function(b){a.handleMouseClick(b,this,a)})}else if("hover_intent"==c)b.on("mouseenter.mouse_intent",function(b){a.handleMouseIntent(b,
this,a)});else b.on("mouseenter.ubermenu-submenu-toggle",".ubermenu-target",function(b){a.handleMouseover(b,this,a)})});else a.$ubermenu.find(".ubermenu-tab").on("click.ubermenu-submenu-toggle",".ubermenu-target",function(b){a.handleMouseClick(b,this,a)})}},disableSubmenuToggleMouseEvents:function(){this.log("disableSubmenuToggleMouseEvents");this.events_disabled=!0},reenableSubmenuToggleMouseEvents:function(a){a=a||this;a.log("reenableSubmenuToggleMouseEvents");a.events_disabled=!1},initializeRetractors:function(){if(this.settings.retractors){var a=
this;this.$ubermenu.on("click",".ubermenu-retractor",function(c){a.handleSubmenuRetractorEnd(c,this,a)});if(this.settings.touchEvents)this.$ubermenu.on(this.touchStart,".ubermenu-retractor",function(c){a.handleSubmenuRetractorStart(c,this,a)});this.touchenabled||"touch"!=a.settings.retractor_display_strategy||(this.$ubermenu.find(".ubermenu-retractor-mobile").remove(),this.$ubermenu.find(".ubermenu-submenu-retractor-top").removeClass("ubermenu-submenu-retractor-top").removeClass("ubermenu-submenu-retractor-top-2"))}},
initializeResponsiveToggle:function(){var a=this,c=".ubermenu-responsive-toggle[data-ubermenu-target="+a.$ubermenu.attr("id")+"], .ubermenu-responsive-toggle[data-ubermenu-target=_any_]";a.log("initializeResponsiveToggle "+this.toggleevent);d(h).on(this.toggleevent,c,function(b){a.handleResponsiveToggle(b,this,a)})},initializeTouchoffClose:function(){if(this.settings.touchOffClose){var a=this;d(h).on(this.touchStart+".ubermenu_touchoff",function(c){a.handleTouchoffCloseStart(c,this,a)});d(h).on(this.touchEnd+
".ubermenu_touchoff",function(c){a.handleTouchoffClose(c,this,"touch",a)});if(!this.suppress_clicks)d(h).on("mouseup.ubermenu_clickoff",function(c){a.handleTouchoffClose(c,this,"click",a)})}},initializeTabs:function(){var a=this,c=a.settings.responsive&&f.innerWidth<=a.settings.breakpoint?!0:!1;a.$tab_blocks=a.$ubermenu.find(".ubermenu-tabs");a.$tab_blocks=d(a.$tab_blocks.get().reverse());d(f).load(function(){a.sizeTabs()});a.windowwidth=f.innerWidth;d(f).ubersmartresize(function(){a.oldwindowwidth=
a.windowwidth;a.windowwidth=f.innerWidth;a.windowwidth!=a.oldwindowwidth&&(a.clearTabSizes(a),a.sizeTabs(),a.checkActiveTabs(a))});a.$ubermenu.find(".ubermenu-item-level-0.ubermenu-has-submenu-drop").on("ubermenuopen.sizetabs",function(){d(this).off("ubermenuopen.sizetabs");a.sizeTabs()});c||a.initializeActiveTab(a)},checkActiveTabs:function(a){f.innerWidth<=a.settings.breakpoint?a.$tab_blocks.find(".ubermenu-tab.ubermenu-active").removeClass("ubermenu-active"):a.initializeActiveTab(a)},initializeActiveTab:function(a){a.$ubermenu.find(".ubermenu-tabs-show-default > .ubermenu-tabs-group").each(function(){0===
d(this).find("> .ubermenu-tab.ubermenu-active").length&&a.openSubmenu(d(this).find("> .ubermenu-tab").first(),"tab default",a)})},clearTabSizes:function(a){(a||this).$ubermenu.find(".ubermenu-submenu , .ubermenu-tabs , .ubermenu-tab-content-panel , .ubermenu-tabs-group").css("min-height","")},sizeTabs:function(){var a=this.settings.responsive&&f.innerWidth<=this.settings.breakpoint?!0:!1;a||(this.initializeActiveTab(this),this.$tab_blocks.each(function(){var c=!1;!d(this).hasClass("ubermenu-tab-layout-top")&&
!d(this).hasClass("ubermenu-tab-layout-bottom")||a||(c=!0);var b=0,e;e=a?d(this).parentsUntil(".ubermenu").add(d(this).parents(".ubermenu")):d(this).parentsUntil(".ubermenu-item-level-0");e.addClass("ubermenu-test-dimensions");var g=d(this).find(" > .ubermenu-tabs-group > .ubermenu-tab > .ubermenu-tab-content-panel");g.each(function(){d(this).addClass("ubermenu-test-dimensions");d(this).outerHeight()>b&&(b=d(this).outerHeight());d(this).removeClass("ubermenu-test-dimensions")});var f=d(this).find("> .ubermenu-tabs-group");
c?d(this).css("min-height",b+f.outerHeight()):(f.outerHeight()>b&&(b=d(this).outerHeight()),f.css("min-height",b));a?(d(this).closest(".ubermenu-submenu-drop").css("min-height",b),g.css("min-height",!1)):(d(this).closest(".ubermenu-submenu-drop").css("min-height",!1),g.css("min-height",b));e.removeClass("ubermenu-test-dimensions")}))},initializeSegmentCurrentStates:function(){this.$ubermenu.find(".ubermenu-current-menu-item").first().parents(".ubermenu-item:not( .ubermenu-nocurrent )").addClass("ubermenu-current-menu-ancestor")},
disableTransitions:function(){this.transitions=!1;this.$ubermenu.removeClass("ubermenu-transition-slide").removeClass("ubermenu-transition-fade").removeClass("ubermenu-transition-shift").addClass("ubermenu-no-transitions").addClass("ubermenu-transition-none")},handleClicks:function(a,c,b){d(c).data("ubermenu-killClick")&&(a.preventDefault(),b.log("killed click after touchend ",a))},handleTouchInteraction:function(a,c,b){a.stopPropagation();0<=a.type.indexOf("pointer")&&b.disableTransitions();c=d(c);
c.parent().off("mouseleave.mouse_intent_none");b.log("touchstart "+a.type+" "+c.text(),a);c.on(b.touchEnd,function(a){b.handleTap(a,this,b)});c.on(b.touchMove,function(a){b.preventInteractionOnScroll(a,this,b)});a.originalEvent.touches?(c.data("ubermenu-startX",a.originalEvent.touches[0].clientX),c.data("ubermenu-startY",a.originalEvent.touches[0].clientY)):a.originalEvent.clientY&&(c.offset(),c.data("ubermenu-startX",a.originalEvent.clientX),c.data("ubermenu-startY",a.originalEvent.clientY))},preventInteractionOnScroll:function(a,
c,b){b.log("touchmove interaction "+a.type,a);c=d(c);if(a.originalEvent.touches)Math.abs(a.originalEvent.touches[0].clientX-c.data("ubermenu-startX"))>b.settings.moveThreshold||Math.abs(a.originalEvent.touches[0].clientY-c.data("ubermenu-startY"))>b.settings.moveThreshold?(b.log("Preventing interaction on scroll, reset handlers (standard)"),b.resetHandlers(c,"preventScroll touches",b)):b.log("diff = "+Math.abs(a.originalEvent.touches[0].clientY-c.data("ubermenu-startY")));else if(a.originalEvent.clientY){var e=
c.data(e);Math.abs(a.originalEvent.clientX-c.data("ubermenu-startX"))>b.settings.moveThreshold||Math.abs(a.originalEvent.clientY-c.data("ubermenu-startY"))>b.settings.moveThreshold?(b.log("Preventing interaction on scroll, reset handlers (standard)"),b.resetHandlers(c,"preventScroll client",b)):b.log("diff = "+a.originalEvent.clientY+" - "+c.data("ubermenu-startY")+" = "+Math.abs(a.originalEvent.clientY-c.data("ubermenu-startY")))}else b.log("no touch points found!")},handleTap:function(a,c,b){a.preventDefault();
a.stopPropagation();var e=d(c);if(e.data("ubermenu-killTouch"))b.log("kill tap"),a.preventDefault(),a.stopPropagation();else{var g=e.parent();b.log("handleTap ["+e.text()+"]",a.type);e.data("ubermenu-killClick",!0);e.data("ubermenu-killHover",!0);setTimeout(function(){e.data("ubermenu-killClick",!1).data("ubermenu-killHover",!1)},1E3);b.closeSubmenuInstantly(g.siblings(".ubermenu-active"));g.hasClass("ubermenu-has-submenu-drop")?g.hasClass("ubermenu-active")?((!g.hasClass("ubermenu-tab")||f.innerWidth<=
b.settings.breakpoint)&&b.closeSubmenu(g,"toggleUberMenuActive",b),b.handleLink(a,c,b,!0)):b.openSubmenu(g,"toggle",b):b.handleLink(a,c,b,!0)}e.data("ubermenu-killTouch",!1);b.resetHandlers(e,"handleTap",b)},handleLink:function(a,c,b,e){e=e||!1;b.log("handleLink");var g=d(c);if(g.is("a")){var l=g.attr("href"),k=g.data("ubermenu-scrolltarget");if(k){c=d(k).first();if(0<c.length){a.preventDefault();g.trigger("ubermenuscrollto");a=g.parent(".ubermenu-item");a.addClass("ubermenu-current-menu-item");a.siblings().removeClass("ubermenu-current-menu-item").removeClass("ubermenu-current-menu-parent").removeClass("uberemnu-current-menu-ancestor");
var h=!1;d("html,body").animate({scrollTop:c.offset().top-b.settings.scrollto_offset},b.settings.scrollto_duration,"swing",function(){h||(b.closeSubmenu(g.closest(".ubermenu-item-level-0"),"handeLink",b),b.settings.collapse_after_scroll&&!b.$ubermenu.hasClass("ubermenu-responsive-nocollapse")&&b.toggleMenuCollapse("toggle",!1,b),g.trigger("ubermenuscrollto_complete"),h=!0)});return!1}l&&-1==l.indexOf("#")&&(-1==k.indexOf("#")&&(k="#"+k),f.location=l+k,a.preventDefault())}l?e&&a.isDefaultPrevented()&&
(b.log("default prevented, follow link"),"_blank"==g.attr("target")?f.open(l,"_blank"):f.location=l):a.preventDefault()}},handleMouseClick:function(a,c,b){b.log("handleMouseClick",a);var e=d(c);if(e.data("ubermenu-killClick"))b.log("handleMouseClick: killClick");else{var g=e.parent(".ubermenu-item");g.length&&(g.hasClass("ubermenu-active")?(e.is("a")&&b.handleLink(a,c,b),g.hasClass("ubermenu-tab")||b.closeSubmenu(g,"retract")):g.hasClass("ubermenu-has-submenu-drop")&&(a.preventDefault(),b.closeSubmenuInstantly(g.siblings(".ubermenu-active")),
b.openSubmenu(g,"click",b)))}},handleMouseIntent:function(a,c,b){b.log("handleMouseIntent");var e=d(c);e.data("mouse_intent_timer")&&e.data("mouse_intent_timer",clearTimeout(e.data("mouse_intent_timer")));var g=e.find(".ubermenu-target");g.data("ubermenu-killHover")?(b.log("killHover MouseIntent"),a.preventDefault(),a.stopPropagation()):(n=a.pageX,q=a.pageY,e.on("mousemove.mouse_intent",b.trackMouse),e.data("mouse_intent_timer",setTimeout(function(){b.compare(a,e,b.handleMouseIntentSuccess,b)},b.settings.intent_interval)),
e.on("mouseleave.mouse_intent_none",function(){d(this).data("mouse_intent_timer",clearTimeout(d(this).data("mouse_intent_timer")));e.data("mouse_intent_state",0);e.off("mouseleave.mouse_intent_none");g.data("ubermenu-killHover")?(b.log("killHover MouseIntent_Cancel"),a.preventDefault(),a.stopPropagation()):b.closeSubmenu(e,"mouse_intent_cancel",b)}))},handleMouseIntentSuccess:function(a,c,b){b.log("handleMouseIntentSuccess");c.off("mouseleave.mouse_intent_none");var d=c.find(".ubermenu-target");if(d.data("ubermenu-killHover"))b.log("Kill hover on IntentSuccess"),
a.preventDefault(),a.stopPropagation();else if(d.data("ubermenu-killHover",!1),b.triggerSubmenu(a,c,b),!c.hasClass("ubermenu-tab"))c.on("mouseleave.mouse_intent",function(a){b.handleMouseIntentLeave(a,this,b)})},handleMouseIntentLeave:function(a,c,b){var e=d(c);e.data("mouse_intent_timer")&&e.data("mouse_intent_timer",clearTimeout(e.data("mouse_intent_timer")));e.off("mousemove.mouse_intent",b.trackMouse);1==e.data("mouse_intent_state")&&e.data("mouse_intent_timer",setTimeout(function(){b.delayMouseLeave(a,
e,b.handleMouseIntentLeaveSuccess,b)},b.settings.intent_delay))},handleMouseIntentLeaveSuccess:function(a,c,b){c.off("mouseleave.mouse_intent");c.find("> .ubermenu-target").data("ubermenu-killHover")||b.closeSubmenu(c,"mouse_intent_leave",b)},delayMouseLeave:function(a,c,b,d){c.data("mouse_intent_timer",clearTimeout(c.data("mouse_intent_timer")));c.data("mouse_intent_state",0);return b.apply(c,[a,c,d])},trackMouse:function(a){p=a.pageX;m=a.pageY},compare:function(a,c,b,d){c.data("mouse_intent_timer",
clearTimeout(c.data("mouse_intent_timer")));if(Math.abs(n-p)+Math.abs(q-m)<d.settings.intent_threshold)return c.off("mousemove.mouse_intent",d.track),c.data("mouse_intent_state",1),b.apply(c,[a,c,d]);n=p;q=m;c.data("mouse_intent_timer",setTimeout(function(){d.compare(a,c,b,d)},d.settings.intent_interval))},triggerSubmenu:function(a,c,b){b.closeSubmenuInstantly(c.siblings(".ubermenu-active, .ubermenu-in-transition"));b.openSubmenu(c,"mouseenter",b)},handleMouseover:function(a,c,b){if(!b.events_disabled){var e=
d(c);e.data("ubermenu-killTouch",!0);setTimeout(function(){e.data("ubermenu-killTouch",!1)},1E3);b.log("handleMouseenter, add mouseleave",a);c=e.parent(".ubermenu-item");if(c.length&&!c.hasClass("ubermenu-active")&&(b.triggerSubmenu(a,c,b),!c.hasClass("ubermenu-tab")))c.on("mouseleave.ubermenu-submenu-toggle",function(a){b.handleMouseleave(a,this,b)})}},handleMouseleave:function(a,c,b){b.log("handleMouseleave, remove mouseleave",a);d(c).off("mouseleave.ubermenu-submenu-toggle");b.closeSubmenu(d(c),
"mouseout")},handleSubmenuRetractorStart:function(a,c,b){a.preventDefault();a.stopPropagation();d(c).on(b.touchEnd,function(a){b.handleSubmenuRetractorEnd(a,this,b)});b.log("handleSubmenuRetractorStart "+d(c).text())},handleSubmenuRetractorEnd:function(a,c,b){a.preventDefault();a.stopPropagation();a=d(c).closest(".ubermenu-item");b.closeSubmenu(a,"handleSubmenuRetractor");d(c).off(b.touchEnd);b.log("handleSubmenuRetractorEnd "+a.find("> .ubermenu-target").text());return!1},handleResponsiveToggle:function(a,
c,b){b.log("handleResponsiveToggle "+a.type,a);a.preventDefault();a.stopPropagation();if("touchend"==a.type)b.$ubermenu.data("ubermenu-prevent-click",!0),setTimeout(function(){b.$ubermenu.data("ubermenu-prevent-click",!1)},500);else if("click"==a.type&&b.$ubermenu.data("ubermenu-prevent-click")){b.$ubermenu.data("ubermenu-prevent-click",!1);return}b.toggleMenuCollapse("toggle",c,b)},handleTouchoffCloseStart:function(a,c,b){b.touchoffclosestart=d(f).scrollTop()},handleTouchoffClose:function(a,c,b,
e){d(a.target).closest(".ubermenu").length||"click"!=b&&e.touchoffclosestart!=d(f).scrollTop()||(e.log("touchoff close ",a),e.closeAllSubmenus()&&(e.disableSubmenuToggleMouseEvents(),f.setTimeout(function(){e.reenableSubmenuToggleMouseEvents(e)},e.settings.submenuAnimationDuration)))},toggleMenuCollapse:function(a,c,b){b=b||this;c=c||".ubermenu-resposive-toggle";c="object"==typeof c?d(c):d(c+'[data-ubermenu-target="'+b.$ubermenu.attr("id")+'"]');a=a||"toggle";"toggle"==a&&(a=b.$ubermenu.hasClass("ubermenu-responsive-collapse")?
"open":"close");"open"==a?(b.$ubermenu.removeClass("ubermenu-responsive-collapse"),c.trigger("ubermenutoggledopen")):(b.$ubermenu.addClass("ubermenu-responsive-collapse"),c.trigger("ubermenutoggledclose"));c.toggleClass("ubermenu-responsive-toggle-open");b.transitions&&!b.$ubermenu.hasClass("ubermenu-responsive-nocollapse")&&(b.$ubermenu.addClass("ubermenu-in-transition"),b.$ubermenu.on(b.transitionend+"_toggleubermenu",function(){b.$ubermenu.removeClass("ubermenu-in-transition");b.$ubermenu.off(b.transitionend+
"_toggleubermenu")}))},positionSubmenus:function(){var a=this;"h"==a.orientation&&a.$ubermenu.find(".ubermenu-submenu-drop.ubermenu-submenu-align-center").each(function(){var c=d(this).parent(".ubermenu-item"),b=d(this),e;if(a.$ubermenu.hasClass("ubermenu-bound"))e=c.closest(".ubermenu , .ubermenu-submenu");else if(a.$ubermenu.hasClass("ubermenu-bound-inner"))e=c.closest(".ubermenu-nav , .ubermenu-submenu");else{var g=c.closest(".ubermenu-submenu");e=0===g.length?a.$ubermenu.offsetParent():g}var g=
b.outerWidth(),f=c.outerWidth(),l=c.offset().left,c=e.width();e=e.offset().left;f=l+f/2-(e+g/2);f=0<f?f:0;g>c?f=(g-c)/-2:f+g>c&&(b.css({right:0,left:"auto"}),f=!1);!1!==f&&b.css("left",f)})},openSubmenu:function(a,c,b){b=b||this;b.log("Open Submenu "+c);a.hasClass("ubermenu-active")||(a.addClass("ubermenu-active"),b.transitions&&(a.addClass("ubermenu-in-transition"),a.find("> .ubermenu-submenu").on(b.transitionend+"_opensubmenu",function(){b.log("finished submenu open transition");a.removeClass("ubermenu-in-transition");
d(this).off(b.transitionend+"_opensubmenu")})),a.trigger("ubermenuopen"))},closeSubmenu:function(a,c,b){b=b||this;b.log("closeSubmenu "+a.find(">a").text()+" ["+c+"]");a.hasClass("ubermenu-item-has-children")&&a.hasClass("ubermenu-active")&&(b.transitions&&a.addClass("ubermenu-in-transition"),a.each(function(){var a=d(this),c=a.find("> ul");if(b.transitions)c.on(b.transitionend+"_closesubmenu",function(){b.log("finished submenu close transition");a.removeClass("ubermenu-in-transition");c.off(b.transitionend+
"_closesubmenu")})}));a.removeClass("ubermenu-active");a.trigger("ubermenuclose")},closeSubmenuInstantly:function(a){0!==a.length&&(a.addClass("ubermenu-notransition"),a.removeClass("ubermenu-active").removeClass("ubermenu-in-transition"),a[0].offsetHeight,a.removeClass("ubermenu-notransition"),a.trigger("ubermenuclose"))},closeAllSubmenus:function(){var a=this.$ubermenu.find(".ubermenu-item-level-0.ubermenu-active");a.length&&this.closeSubmenuInstantly(a);return a.length},resetHandlers:function(a,
c,b){b.log("ResetHandlers: "+c);a.off(this.touchEnd);a.off(this.touchMove);a=a.parent();a.off("mousemove.mouse_intent");a.off("mouseleave.mouse_intent_none");a.data("mouse_intent_timer",clearTimeout(a.data("mouse_intent_timer")));a.data("mouse_intent_state",0)},log:function(a,c,b){b=b||this;b.settings.debug&&(b.settings.debug_onscreen?this.debug_target.prepend('<div class="um-debug-content">'+a+"</div>"):console.log(a,c))}};d.fn.ubermenu=function(a){var c=arguments;if(a===k||"object"===typeof a)return this.each(function(){d.data(this,
"plugin_ubermenu")||d.data(this,"plugin_ubermenu",new l(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a){var b;this.each(function(){var e=d.data(this,"plugin_ubermenu");e instanceof l&&"function"===typeof e[a]&&(b=e[a].apply(e,Array.prototype.slice.call(c,1)));"destroy"===a&&d.data(this,"plugin_ubermenu",null)});return b!==k?b:this}}})(jQuery,window,document);
(function(d){function f(f){h||(h=!0,"undefined"!=typeof console&&"window.load"==f&&console.log("Notice: UberMenu initialized via "+f+".  This indicates that an unrelated error on the site prevented it from loading via the normal document ready event."),"."==window.location.hash.substring(1,2)?(f=d(window.location.hash.substring(1)),f.length&&window.scrollTo(0,f.offset().top-ubermenu_data.scrollto_offset)):window.location.hash.length&&setTimeout(function(){try{var f=d(window.location.hash);f.length&&
window.scrollTo(0,f.offset().top-ubermenu_data.scrollto_offset)}catch(k){}},100),d("#wp-admin-bar-ubermenu_loading").remove(),d(".ubermenu").ubermenu({}),"undefined"!==typeof google&&"undefined"!==typeof google.maps&&"undefined"!==typeof google.maps.LatLng&&d(".ubermenu-map-canvas").each(function(){var f=d(this),k=f.attr("data-zoom")?parseInt(f.attr("data-zoom")):8,h=f.attr("data-lat")?new google.maps.LatLng(f.attr("data-lat"),f.attr("data-lng")):new google.maps.LatLng(40.7143528,-74.0059731),m=new google.maps.Map(this,
{zoom:k,mapTypeId:google.maps.MapTypeId.ROADMAP,center:h});f.attr("data-address")?(new google.maps.Geocoder).geocode({address:f.attr("data-address")},function(a,c){c==google.maps.GeocoderStatus.OK&&(m.setCenter(a[0].geometry.location),h=a[0].geometry.location,new google.maps.Marker({map:m,position:a[0].geometry.location,title:f.attr("data-mapTitle")}))}):new google.maps.Marker({map:m,position:h,title:f.attr("data-mapTitle")});var n=d(this).closest(".ubermenu-has-submenu-drop"),q=function(){google.maps.event.trigger(m,
"resize");m.setCenter(h);n.off("ubermenuopen",q)};n.on("ubermenuopen",q)}))}var h=!1;jQuery(function(d){f("document.ready")});d(window).load(function(){f("window.load")})})(jQuery);function uber_op(d,f,h){if(!ubermenu_data.hasOwnProperty(d))return h;d=ubermenu_data[d];if(f.hasOwnProperty("datatype"))switch(f.datatype){case "numeric":d=parseInt(d);break;case "boolean":d="on"==d||1==d||"1"==d?!0:!1}return d}
(function(d,f){var h=function(d,f,h){var p;return function(){var m=this,n=arguments;p?clearTimeout(p):h&&d.apply(m,n);p=setTimeout(function(){h||d.apply(m,n);p=null},f||100)}};jQuery.fn[f]=function(d){return d?this.bind("resize",h(d)):this.trigger(f)}})(jQuery,"ubersmartresize");
var uber_supports=function(){var d=document.createElement("div"),f=["Khtml","Ms","O","Moz","Webkit"];return function(h){var k=f.length;if(h in d.style)return!0;for(h=h.replace(/^[a-z]/,function(d){return d.toUpperCase()});k--;)if(f[k]+h in d.style)return!0;return!1}}();function uberMenu_openMega(d){jQuery(".ubermenu").ubermenu("openSubmenu",jQuery(d))}function uberMenu_openFlyout(d){jQuery(".ubermenu").ubermenu("openSubmenu",jQuery(d))}
function uberMenu_close(d){jQuery(".ubermenu").ubermenu("closeSubmenu",jQuery(d))}function uberMenu_redrawSubmenus(){jQuery(".ubermenu").ubermenu("positionSubmenus")};

;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++)if(d=i[c],!d.getAttribute("data-secret")){if(f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f),g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}else;}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;/*!
 * jQuery Cookie Plugin v1.2
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(e,b,f){var a=/\+/g;function d(g){return g}function c(g){return decodeURIComponent(g.replace(a," "))}e.cookie=function(l,k,p){if(k!==f&&!/Object/.test(Object.prototype.toString.call(k))){p=e.extend({},e.cookie.defaults,p);if(k===null){p.expires=-1}if(typeof p.expires==="number"){var m=p.expires,o=p.expires=new Date();o.setDate(o.getDate()+m)}k=String(k);return(b.cookie=[encodeURIComponent(l),"=",p.raw?k:encodeURIComponent(k),p.expires?"; expires="+p.expires.toUTCString():"",p.path?"; path="+p.path:"",p.domain?"; domain="+p.domain:"",p.secure?"; secure":""].join(""))}p=k||e.cookie.defaults||{};var g=p.raw?d:c;var n=b.cookie.split("; ");for(var j=0,h;(h=n[j]&&n[j].split("="));j++){if(g(h.shift())===l){return g(h.join("="))}}return null};e.cookie.defaults={};e.removeCookie=function(h,g){if(e.cookie(h,g)!==null){e.cookie(h,null,g);return true}return false}})(jQuery,document);
;function snp_ga(e,p,n,s){snp_enable_analytics_events&&"function"==typeof ga&&ga("send","event",e,p,n,s)}function snp_set_cookie(e,p,n){if(-2!=n){if(-1!=n){n=1*n;var s={path:"/",expires:n}}else var s={path:"/"};(void 0===snp_ignore_cookies||0==snp_ignore_cookies)&&jQuery.cookie(snp_cookie_prefix+""+e,p,s)}}function snp_close(){if(void 0!==jQuery.fancybox2&&jQuery.fancybox2.isOpen)jQuery.fancybox2.close();else{var e=jQuery("#snp_popup").val();void 0!==snp_f[e+"-open"]&&(snp_f[e+"-close"](),snp_onclose_popup())}}function snp_onsubmit(e){var p=(jQuery("#snp_popup").val(),parseInt(jQuery("#snp_popup_id").val()));p||(p=e.parents(".snppopup").find(".snp_popup_id").val());var n=e.parents(".snppopup").find(".snp_popup_ab_id").val();void 0===n&&(n=!1);var s=jQuery.event.trigger({type:"ninja_popups_submit",popup_id:p});if(s===!1)return!1;var t=e.parents(".snppopup").find(".snp_optin_redirect_url").val();if("#"==e.attr("action")){var o=jQuery('input[type="submit"], button[type="submit"]',e),a=o.outerWidth(),r=o.data("loading"),i=o.data("success"),u=o.data("nextstep"),l=o.data("step"),_=o.html()?o.html():o.val();r&&(o.hasClass("snp-nomw")||o.css("min-width",a),o.html(r),o.val(r));var c={};return c.action="snp_popup_submit",c.popup_ID=p,jQuery("input, select, textarea",e).each(function(e){c[this.name]=this.value}),jQuery.ajax({url:snp_ajax_url,type:"POST",dataType:"json",data:c,success:function(s){if(jQuery("input, textarea, select",e).removeClass("snp-error"),1==s.Ok)if(snp_onconvert("optin",p,n,u||l?!1:!0),jQuery.event.trigger({type:"ninja_popups_submit_success",popup_id:p}),t&&(document.location.href=t),l)snp_bld_gotostep(p,l);else if(u){var a=o.parents(".snp-fb");a.find(".snp-step-show").fadeOut(function(){jQuery(this).removeClass("snp-step-show"),a.find(".snp-step-"+u).fadeIn(function(){jQuery(this).addClass("snp-step-show")})})}else i?(o.text(i),o.val(i),setTimeout("snp_close();",800)):snp_close();else s.Errors&&jQuery.each(s.Errors,function(p,n){jQuery("input[name='"+p+"'], textarea[name='"+p+"'], select[name='"+p+"']",e).addClass("snp-error")}),r&&(o.html(_),o.val(_)),jQuery.event.trigger({type:"ninja_popups_submit_error",popup_id:p})}}),!1}var d=0;return jQuery('input[type="text"]',e).each(function(e){this.value?jQuery(this).removeClass("snp-error"):(d=1,jQuery(this).addClass("snp-error"))}),1==d?!1:("_blank"==e.attr("target")&&snp_close(),t&&(document.location.href=t),snp_onconvert("optin",p,n),!0)}function snp_onconvert(e,p,n,s){var t=jQuery("#snp_popup").val();if(!p)var p=parseInt(jQuery("#snp_popup_id").val());if(t){var o="";snp_separate_cookies&&(o=p);var a=jQuery("#"+t+" .snp_cookie_conversion").val();a||(a=30),snp_set_cookie("snp_"+t+o,"1",a)}if(jQuery.post(snp_ajax_url,{action:"snp_popup_stats",type:e,popup_ID:p,ab_ID:n}),"optin"!=e){var r=jQuery("#"+t).find(".snp_optin_redirect_url").val();r&&(document.location.href=r)}snp_ga("popup","subscribe",p),1==s&&snp_close()}function snp_onshare_li(){snp_onconvert("li",0,!1,!0)}function snp_onshare_gp(){snp_onconvert("gp",0,!1,!0)}function snp_onclose_popup(){var e=jQuery("#snp_popup").val(),p=parseInt(jQuery("#snp_popup_id").val()),n="";if(snp_separate_cookies&&(n=p),jQuery("#snp_popup").val())var s=jQuery("#"+jQuery("#snp_popup").val()+" .snp_cookie_close").val();else s=-1;jQuery.cookie(snp_cookie_prefix+"snp_"+e+n)||(s||(s=-1),snp_set_cookie("snp_"+e+n,"1",s)),jQuery("#snp_exithref").val()&&(document.location.href=jQuery("#snp_exithref").val()),jQuery.event.trigger({type:"ninja_popups_close",popup_id:jQuery("#snp_popup_id").val()}),jQuery(".fancybox-overlay").removeClass("snp-pop-"+jQuery("#snp_popup_id").val()+"-overlay"),jQuery(".snp-wrap").removeClass("snp-pop-"+jQuery("#snp_popup_id").val()+"-wrap"),jQuery("#snp_popup_theme").val(""),jQuery("#snp_popup").val(""),jQuery("#snp_popup_id").val(""),jQuery("#snp_exithref").val(""),jQuery("#snp_exittarget").val("")}function snp_onstart_popup(){jQuery(".fancybox-overlay").addClass("snp-pop-"+jQuery("#snp_popup_id").val()+"-overlay"),jQuery(".snp-wrap").addClass("snp-pop-"+jQuery("#snp_popup_id").val()+"-wrap"),jQuery(".snp-wrap").addClass("snp-pop-"+jQuery("#snp_popup_theme").val()+"-wrap");var e=jQuery(".snp-pop-"+jQuery("#snp_popup_id").val()).find(".snp_popup_ab_id").val();void 0===e&&(e=!1),jQuery.post(snp_ajax_url,{action:"snp_popup_stats",type:"view",popup_ID:jQuery("#snp_popup_id").val(),ab_ID:e})}function snp_open_popup(e,p,n,s){if(!(void 0!==jQuery.fancybox2&&jQuery.fancybox2.isOpen||0==snp_enable_mobile&&"content"!=s&&1==jQuery.browser.mobile)){if(void 0!==snp_ignore_cookies&&1==snp_ignore_cookies||"content"==s);else{var t="";if(snp_separate_cookies&&(t=jQuery("#"+n+" >  .snp_popup_id").val()),1==jQuery.cookie(snp_cookie_prefix+"snp_"+n+t))return!0}var o=parseInt(jQuery("#"+n+" .snp_autoclose").val()),a=jQuery("#"+n+" .snp_show_cb_button").val();o&&(snp_timer=setTimeout("snp_close()",1e3*o),jQuery("#"+n+" input").focus(function(){clearTimeout(snp_timer)}));var r=jQuery("#"+n+" .snp_overlay").val();if(jQuery("#snp_popup").val(n),jQuery("#snp_popup_id").val(jQuery("#"+n+" >  .snp_popup_id").val()),jQuery("#snp_popup_theme").val(jQuery("#"+n+" >  .snp_popup_theme").val()),jQuery("#snp_exithref").val(e),jQuery("#snp_exittarget").val(p),snp_ga("popup","open",jQuery("#snp_popup_id").val()),void 0!==snp_f[n+"-open"])jQuery("#"+n).appendTo("body"),snp_f[n+"-open"](),snp_onstart_popup();else{var i={};"disabled"==r&&(i.background="none"),jQuery.fancybox2({href:"#"+n,helpers:{overlay:{locked:!1,closeClick:!1,showEarly:!1,speedOut:5,css:i}},padding:0,autoCenter:1==jQuery.browser.mobile?!1:!0,autoDimensions:!0,titleShow:!1,closeBtn:"yes"==a?!0:!1,keys:{close:"yes"==a?[27]:""},showNavArrows:!1,wrapCSS:"snp-wrap",afterClose:function(){return snp_onclose_popup()},beforeShow:function(){return snp_onstart_popup()}})}return jQuery("#"+n+" .snp-subscribe-social").length>0&&("undefined"!=typeof FB&&FB.Event.subscribe("edge.create",function(){snp_onconvert("fb",0,!1,!0)}),"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(e){snp_onconvert("tw_t",0,!1,!0)}),twttr.events.bind("follow",function(e){snp_onconvert("tw_f",0,!1,!0)})),jQuery("#"+n+" a.pin-it-button").click(function(){snp_onconvert("pi",0,!1,!0)})),jQuery.event.trigger({type:"ninja_popups_open",popup_id:jQuery("#snp_popup_id").val()}),!1}}function snp_bld_gotostep(e,p){var n=jQuery(".snp-pop-"+e).find(".snp-builder"),s=n.find(".snp-bld-showme"),t=n.find(".snp-bld-step-"+p);void 0!==s.data("animation-close")?(s.removeClass("animated "+s.attr("data-animation")),s.addClass("animated "+s.attr("data-animation-close")).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+jQuery(this).attr("data-animation-close")),jQuery(this).removeClass("snp-bld-showme")})):s.removeClass("snp-bld-showme"),void 0!==t.attr("data-animation")?t.addClass("animated "+t.attr("data-animation")).addClass("snp-bld-showme").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+jQuery(this).attr("data-animation"))}):t.addClass("snp-bld-showme"),snp_resp(p),"disabled"==t.attr("data-overlay")?n.next(".snp-overlay").removeClass("snp-overlay-show"):n.next(".snp-overlay").addClass("snp-overlay-show"),jQuery("#snp-bld-step-bg-"+p).length>0&&jQuery("#snp-bld-step-bg-"+p).mb_YTPlayer(),snp_stop_video(s),snp_start_video(t),snp_init_map(t),snp_ga("popup","step"+p,jQuery("#snp_popup_id").val())}function snp_start_video(e){e.find(".snp-bld-video").each(function(){var e=jQuery(this).attr("data-src")+jQuery(this).attr("data-autoplay");jQuery(this).attr("src",e)})}function snp_stop_video(e){e.find(".snp-bld-video").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)})}function snp_init_map(e){e.find(".snp-bld-googleMap").each(function(){jQuery(this).height(jQuery(this).parent().height()),jQuery(this).width(jQuery(this).parent().width());var e;switch(jQuery(this).attr("data-mapType")){case"ROADMAP":e=google.maps.MapTypeId.ROADMAP;break;case"SATELLITE":e=google.maps.MapTypeId.SATELLITE;break;case"HYBRID":e=google.maps.MapTypeId.HYBRID;break;case"TERRAIN":e=google.maps.MapTypeId.TERRAIN}var p={center:new google.maps.LatLng(parseFloat(jQuery(this).attr("data-coordx")),parseFloat(jQuery(this).attr("data-coordy"))),zoom:parseInt(jQuery(this).attr("data-zoom")),mapTypeId:e},n=jQuery(this),s=new google.maps.Map(n[0],p),t=new google.maps.LatLng(parseFloat(jQuery(this).attr("data-coordx")),parseFloat(jQuery(this).attr("data-coordy"))),o={position:t,map:s,icon:jQuery(this).attr("data-icon")};new google.maps.Marker(o)})}function snp_resp(e){var p=jQuery("#snp_popup").val();if(void 0!==p){var n=jQuery("#"+p).find(".snp-builder");if(e===!1)var s=n.find(".snp-bld-showme");else var s=n.find("#snp-bld-step-"+e);var t=jQuery(window).height(),o=jQuery(window).width(),a=o/s.data("width"),r=t/s.data("height"),i=(a>r?r:a)-.01;i>1&&(i=1);var u=s.parent(".snp-bld-step-cont");1>i?(u.css("transform","translateX(-50%) translateY(-50%) scale("+i+")"),u.css("-webkit-transform","translateX(-50%) translateY(-50%) scale("+i+")"),u.css("-moz-transform","translateX(-50%) translateY(-50%) scale("+i+")"),u.css("-ms-transform","translateX(-50%) translateY(-50%) scale("+i+")"),u.css("top","50%"),u.css("left","50%"),u.css("right","auto"),u.css("bottom","auto")):(u.css("transform",""),u.css("-webkit-transform",""),u.css("-moz-transform",""),u.css("-ms-transform",""),u.css("top",""),u.css("left",""),u.css("right",""),u.css("bottom",""))}}function _snp_bld_open(e){var p=jQuery(".snp-pop-"+e+" .snp-builder").not(".snp-pos-static").addClass("snp-bld-showme").find(".snp-bld-step-1");p.addClass("snp-bld-showme"),snp_start_video(p),snp_init_map(p),"disabled"!=p.attr("data-overlay")&&jQuery(".snp-pop-"+e+" .snp-overlay").addClass("snp-overlay-show"),jQuery("#snp-bld-step-bg-1").length>0&&jQuery("#snp-bld-step-bg-1").mb_YTPlayer(),snp_resp(1)}function _snp_bld_close(e){var p=jQuery(".snp-pop-"+e+" .snp-builder").not(".snp-pos-static"),n=p.find(".snp-bld-showme");snp_stop_video(n),void 0!==n.data("animation-close")?(n.removeClass("animated "+n.attr("data-animation")),n.addClass("animated "+n.attr("data-animation-close")).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+jQuery(this).attr("data-animation-close")),jQuery(this).removeClass("snp-bld-showme")})):n.removeClass("snp-bld-showme"),p.removeClass("snp-bld-showme"),jQuery(".snp-pop-"+e+" .snp-overlay").removeClass("snp-overlay-show")}var snp_timer,snp_timer_o,snp_is_internal_link;jQuery(document).ready(function(e){function p(){r++,r>t&&(window.clearTimeout(i),snp_open_popup("","","snppopup-welcome","welcome"))}if(jQuery(window).resize(function(){snp_resp(!1)}),jQuery(".snp_nothanks, .snp_closelink, .snp-close-link").click(function(){return snp_close(),!1}),jQuery(".snp_subscribeform").submit(function(){return snp_onsubmit(jQuery(this))}),jQuery("#snppopup-welcome").length>0){var n=jQuery("#snppopup-welcome .snp_open").val(),s=jQuery("#snppopup-welcome .snp_open_after").val(),t=jQuery("#snppopup-welcome .snp_open_inactivity").val(),o=jQuery("#snppopup-welcome .snp_open_scroll").val(),a=!1;if("inactivity"===n){var r=0,i=setInterval(p,1e3);jQuery(this).mousemove(function(e){r=0}),jQuery(this).keypress(function(e){r=0})}else"scroll"===n?jQuery(window).scroll(function(){var e=jQuery(document).height()-jQuery(window).height(),p=jQuery(window).scrollTop(),n=parseInt(p/e*100);n>=o&&0==a&&(snp_open_popup("","","snppopup-welcome","welcome"),a=!0)}):s?snp_timer_o=setTimeout("snp_open_popup('','','snppopup-welcome','welcome');",1e3*s):snp_open_popup("","","snppopup-welcome","welcome")}if(jQuery("#snppopup-exit").length>0){var u=jQuery("#snppopup-exit .snp_show_on_exit").val();if(2==u)jQuery("a").click(function(){if(jQuery(this).hasClass("noexitpopup"))snp_is_internal_link=!0;else{if(jQuery(this).hasClass("snppopup"))return snp_open_popup(jQuery(this).attr("href"),jQuery(this).attr("target"),"snppopup-exit","exit");var e=jQuery(this).attr("href");if(void 0===e)snp_is_internal_link=!0;else{if("#"==e.slice(0,1))return;snp_is_internal_link=e.length>0&&!snp_hostname.test(e)&&snp_http.test(e)&&-1==jQuery.inArray(e,snp_excluded_urls)?!1:!0}}}),jQuery(window).bind("beforeunload",function(e){if(!(1==jQuery.cookie(snp_cookie_prefix+"snp_snppopup-exit")&&0==snp_ignore_cookies||void 0!==jQuery.fancybox2&&jQuery.fancybox2.isOpen||1==snp_is_internal_link)){setTimeout("snp_open_popup(jQuery(this).attr('href'),jQuery(this).attr('target'),'snppopup-exit','exit');",1e3);var e=e||window.event;return e&&(e.returnValue=jQuery("#snppopup-exit .snp_exit_js_alert_text").val().replace(/\\n/g,"\n")),jQuery("#snppopup-exit .snp_exit_js_alert_text").val().replace(/\\n/g,"\n")}});else if(3==u){var l=!1;jQuery(document).bind("mouseleave",function(e){var p=jQuery(window).width()-e.pageX;0==l&&p>20&&(snp_open_popup(jQuery(this).attr("href"),jQuery(this).attr("target"),"snppopup-exit","exit"),l=!0)})}else snp_use_in_all&&jQuery("a:not(.snppopup)").click(function(){if(jQuery(this).hasClass("snppopup"))return snp_open_popup(jQuery(this).attr("href"),jQuery(this).attr("target"),"snppopup-exit","exit");var e=jQuery(this).attr("href");return!snp_hostname.test(e)&&"#"!=e.slice(0,1)&&snp_http.test(e)&&-1==jQuery.inArray(e,snp_excluded_urls)?snp_open_popup(jQuery(this).attr("href"),jQuery(this).attr("target"),"snppopup-exit","exit"):void 0}),jQuery("a.snppopup").click(function(){return snp_open_popup(jQuery(this).attr("href"),jQuery(this).attr("target"),"snppopup-exit","exit")})}jQuery(".snp-submit").click(function(){e(this).blur()}),jQuery("a.snppopup-content, a[href^='#ninja-popup-']").click(function(){var e=jQuery(this).attr("rel");return e||(e=jQuery(this).attr("href").replace("#ninja-popup-","")),e?snp_open_popup("","","snppopup-content-"+e,"content"):void 0}),jQuery(".snp_nextstep").click(function(){var p=e(this).data("nextstep"),n=e(this).parents(".snp-fb");return n.find(".snp-step-show").fadeOut(function(){jQuery(this).removeClass("snp-step-show"),n.find(".snp-step-"+p).fadeIn(function(){jQuery(this).addClass("snp-step-show")})}),snp_ga("popup","step"+p,jQuery("#snp_popup_id").val()),!1}),jQuery(".snp-overlay").click(function(){"yes"==e(this).attr("data-close")&&snp_close()}),jQuery(".snp-bld-gotostep").click(function(){var p=e(this).data("step"),n=e(this).parents(".snppopup").find(".snp_popup_id").val();return snp_bld_gotostep(n,p),!1})}),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera);
;/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.4 (Thu, 10 Jan 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(l,o,i,e){var d=i(l),a=i(o),p=i.fancybox2=function(){p.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/),c=null,f=o.createTouch!==e,j=function(q){return q&&q.hasOwnProperty&&q instanceof i},b=function(q){return q&&i.type(q)==="string"},m=function(q){return b(q)&&q.indexOf("%")>0},h=function(q){return(q&&!(q.style.overflow&&q.style.overflow==="hidden")&&((q.clientWidth&&q.scrollWidth>q.clientWidth)||(q.clientHeight&&q.scrollHeight>q.clientHeight)))},n=function(s,r){var q=parseInt(s,10)||0;if(r&&m(s)){q=p.getViewport()[r]/100*q}return Math.ceil(q)},g=function(q,r){return n(q,r)+"px"};i.extend(p,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!f,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(r,q){if(!r){return}if(!i.isPlainObject(q)){q={}}if(false===p.close(true)){return}if(!i.isArray(r)){r=j(r)?i(r).get():[r]}i.each(r,function(w,x){var v={},s,A,y,z,u,B,t;if(i.type(x)==="object"){if(x.nodeType){x=i(x)}if(j(x)){v={href:x.data("fancybox-href")||x.attr("href"),title:x.data("fancybox-title")||x.attr("title"),isDom:true,element:x};if(i.metadata){i.extend(true,v,x.metadata())}}else{v=x}}s=q.href||v.href||(b(x)?x:null);A=q.title!==e?q.title:v.title||"";y=q.content||v.content;z=y?"html":(q.type||v.type);if(!z&&v.isDom){z=x.data("fancybox-type");if(!z){u=x.prop("class").match(/fancybox\.(\w+)/);z=u?u[1]:null}}if(b(s)){if(!z){if(p.isImage(s)){z="image"}else{if(p.isSWF(s)){z="swf"}else{if(s.charAt(0)==="#"){z="inline"}else{if(b(x)){z="html";y=x}}}}}if(z==="ajax"){B=s.split(/\s+/,2);s=B.shift();t=B.shift()}}if(!y){if(z==="inline"){if(s){y=i(b(s)?s.replace(/.*(?=#[^\s]+$)/,""):s)}else{if(v.isDom){y=x}}}else{if(z==="html"){y=s}else{if(!z&&!s&&v.isDom){z="inline";y=x}}}}i.extend(v,{href:s,type:z,content:y,title:A,selector:t});r[w]=v});p.opts=i.extend(true,{},p.defaults,q);if(q.keys!==e){p.opts.keys=q.keys?i.extend({},p.defaults.keys,q.keys):false}p.group=r;return p._start(p.opts.index)},cancel:function(){var q=p.coming;if(!q||false===p.trigger("onCancel")){return}p.hideLoading();if(p.ajaxLoad){p.ajaxLoad.abort()}p.ajaxLoad=null;if(p.imgPreload){p.imgPreload.onload=p.imgPreload.onerror=null}if(q.wrap){q.wrap.stop(true,true).trigger("onReset").remove()}p.coming=null;if(!p.current){p._afterZoomOut(q)}},close:function(q){p.cancel();if(false===p.trigger("beforeClose")){return}p.unbindEvents();if(!p.isActive){return}if(!p.isOpen||q===true){i(".fancybox-wrap").stop(true).trigger("onReset").remove();p._afterZoomOut()}else{p.isOpen=p.isOpened=false;p.isClosing=true;i(".fancybox-item, .fancybox-nav").remove();p.wrap.stop(true,true).removeClass("fancybox-opened");p.transitions[p.current.closeMethod]()}},play:function(s){var q=function(){clearTimeout(p.player.timer)},u=function(){q();if(p.current&&p.player.isActive){p.player.timer=setTimeout(p.next,p.current.playSpeed)}},r=function(){q();i("body").unbind(".player");p.player.isActive=false;p.trigger("onPlayEnd")},t=function(){if(p.current&&(p.current.loop||p.current.index<p.group.length-1)){p.player.isActive=true;i("body").bind({"afterShow.player onUpdate.player":u,"onCancel.player beforeClose.player":r,"beforeLoad.player":q});u();p.trigger("onPlayStart")}};if(s===true||(!p.player.isActive&&s!==false)){t()}else{r()}},next:function(r){var q=p.current;if(q){if(!b(r)){r=q.direction.next}p.jumpto(q.index+1,r,"next")}},prev:function(r){var q=p.current;if(q){if(!b(r)){r=q.direction.prev}p.jumpto(q.index-1,r,"prev")}},jumpto:function(r,t,q){var s=p.current;if(!s){return}r=n(r);p.direction=t||s.direction[(r>=s.index?"next":"prev")];p.router=q||"jumpto";if(s.loop){if(r<0){r=s.group.length+(r%s.group.length)}r=r%s.group.length}if(s.group[r]!==e){p.cancel();p._start(r)}},reposition:function(t,q){var s=p.current,r=s?s.wrap:null,u;if(r){u=p._getPosition(q);if(t&&t.type==="scroll"){delete u.position;r.stop(true,true).animate(u,200)}else{r.css(u);s.pos=i.extend({},s.dim,u)}}},update:function(s){var q=(s&&s.type),r=!q||q==="orientationchange";if(r){clearTimeout(c);c=null}if(!p.isOpen||c){return}c=setTimeout(function(){var t=p.current;if(!t||p.isClosing){return}p.wrap.removeClass("fancybox-tmp");if(r||q==="load"||(q==="resize"&&t.autoResize)){p._setDimension()}if(!(q==="scroll"&&t.canShrink)){p.reposition(s)}p.trigger("onUpdate");c=null},(r&&!f?0:300))},toggle:function(q){if(p.isOpen){p.current.fitToView=i.type(q)==="boolean"?q:!p.current.fitToView;if(f){p.wrap.removeAttr("style").addClass("fancybox-tmp");p.trigger("onUpdate")}p.update()}},hideLoading:function(){a.unbind(".loading");i("#fancybox-loading").remove()},showLoading:function(){var r,q;p.hideLoading();r=i('<div id="fancybox-loading"><div></div></div>').click(p.cancel).appendTo("body");a.bind("keydown.loading",function(s){if((s.which||s.keyCode)===27){s.preventDefault();p.cancel()}});if(!p.defaults.fixed){q=p.getViewport();r.css({position:"absolute",top:(q.h*0.5)+q.y,left:(q.w*0.5)+q.x})}},getViewport:function(){var q=(p.current&&p.current.locked)||false,r={x:d.scrollLeft(),y:d.scrollTop()};if(q){r.w=q[0].clientWidth;r.h=q[0].clientHeight}else{r.w=f&&l.innerWidth?l.innerWidth:d.width();r.h=f&&l.innerHeight?l.innerHeight:d.height()}return r},unbindEvents:function(){if(p.wrap&&j(p.wrap)){p.wrap.unbind(".fb")}a.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var r=p.current,q;if(!r){return}d.bind("orientationchange.fb"+(f?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),p.update);q=r.keys;if(q){a.bind("keydown.fb",function(u){var s=u.which||u.keyCode,t=u.target||u.srcElement;if(s===27&&p.coming){return false}if(!u.ctrlKey&&!u.altKey&&!u.shiftKey&&!u.metaKey&&!(t&&(t.type||i(t).is("[contenteditable]")))){i.each(q,function(v,w){if(r.group.length>1&&w[s]!==e){p[v](w[s]);u.preventDefault();return false}if(i.inArray(s,w)>-1){p[v]();u.preventDefault();return false}})}})}if(i.fn.mousewheel&&r.mouseWheel){p.wrap.bind("mousewheel.fb",function(x,y,t,s){var w=x.target||null,u=i(w),v=false;while(u.length){if(v||u.is(".fancybox-skin")||u.is(".fancybox-wrap")){break}v=h(u[0]);u=i(u).parent()}if(y!==0&&!v){if(p.group.length>1&&!r.canShrink){if(s>0||t>0){p.prev(s>0?"down":"left")}else{if(s<0||t<0){p.next(s<0?"up":"right")}}x.preventDefault()}}})}},trigger:function(r,t){var q,s=t||p.coming||p.current;if(!s){return}if(i.isFunction(s[r])){q=s[r].apply(s,Array.prototype.slice.call(arguments,1))}if(q===false){return false}if(s.helpers){i.each(s.helpers,function(v,u){if(u&&p.helpers[v]&&i.isFunction(p.helpers[v][r])){u=i.extend(true,{},p.helpers[v].defaults,u);p.helpers[v][r](u,s)}})}i.event.trigger(r+".fb")},isImage:function(q){return b(q)&&q.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(q){return b(q)&&q.match(/\.(swf)((\?|#).*)?$/i)},_start:function(r){var s={},w,q,t,u,v;r=n(r);w=p.group[r]||null;if(!w){return false}s=i.extend(true,{},p.opts,w);u=s.margin;v=s.padding;if(i.type(u)==="number"){s.margin=[u,u,u,u]}if(i.type(v)==="number"){s.padding=[v,v,v,v]}if(s.modal){i.extend(true,s,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(s.autoSize){s.autoWidth=s.autoHeight=true}if(s.width==="auto"){s.autoWidth=true}if(s.height==="auto"){s.autoHeight=true}s.group=p.group;s.index=r;p.coming=s;if(false===p.trigger("beforeLoad")){p.coming=null;return}t=s.type;q=s.href;if(!t){p.coming=null;if(p.current&&p.router&&p.router!=="jumpto"){p.current.index=r;return p[p.router](p.direction)}return false}p.isActive=true;if(t==="image"||t==="swf"){s.autoHeight=s.autoWidth=false;s.scrolling="visible"}if(t==="image"){s.aspectRatio=true}if(t==="iframe"&&f){s.scrolling="scroll"}s.wrap=i(s.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+t+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body");i.extend(s,{skin:i(".fancybox-skin",s.wrap),outer:i(".fancybox-outer",s.wrap),inner:i(".fancybox-inner",s.wrap)});i.each(["Top","Right","Bottom","Left"],function(y,x){s.skin.css("padding"+x,g(s.padding[y]))});p.trigger("onReady");if(t==="inline"||t==="html"){if(!s.content||!s.content.length){return p._error("content")}}else{if(!q){return p._error("href")}}if(t==="image"){p._loadImage()}else{if(t==="ajax"){p._loadAjax()}else{if(t==="iframe"){p._loadIframe()}else{p._afterLoad()}}}},_error:function(q){i.extend(p.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:q,content:p.coming.tpl.error});p._afterLoad()},_loadImage:function(){var q=p.imgPreload=new Image();q.onload=function(){this.onload=this.onerror=null;p.coming.width=this.width;p.coming.height=this.height;p._afterLoad()};q.onerror=function(){this.onload=this.onerror=null;p._error("image")};q.src=p.coming.href;if(q.complete!==true){p.showLoading()}},_loadAjax:function(){var q=p.coming;p.showLoading();p.ajaxLoad=i.ajax(i.extend({},q.ajax,{url:q.href,error:function(r,s){if(p.coming&&s!=="abort"){p._error("ajax",r)}else{p.hideLoading()}},success:function(r,s){if(s==="success"){q.content=r;p._afterLoad()}}}))},_loadIframe:function(){var q=p.coming,r=i(q.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",f?"auto":q.iframe.scrolling).attr("src",q.href);i(q.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(s){}});if(q.iframe.preload){p.showLoading();r.one("load",function(){i(this).data("ready",1);if(!f){i(this).bind("load.fb",p.update)}i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();p._afterLoad()})}q.content=r.appendTo(q.inner);if(!q.iframe.preload){p._afterLoad()}},_preloadImages:function(){var v=p.group,u=p.current,q=v.length,s=u.preload?Math.min(u.preload,q-1):0,t,r;for(r=1;r<=s;r+=1){t=v[(u.index+r)%q];if(t.type==="image"&&t.href){new Image().src=t.href}}},_afterLoad:function(){var r=p.coming,t=p.current,y="fancybox-placeholder",v,w,x,s,q,u;p.hideLoading();if(!r||p.isActive===false){return}if(false===p.trigger("afterLoad",r,t)){r.wrap.stop(true).trigger("onReset").remove();p.coming=null;return}if(t){p.trigger("beforeChange",t);t.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}p.unbindEvents();v=r;w=r.content;x=r.type;s=r.scrolling;i.extend(p,{wrap:v.wrap,skin:v.skin,outer:v.outer,inner:v.inner,current:v,previous:t});q=v.href;switch(x){case"inline":case"ajax":case"html":if(v.selector){w=i("<div>").html(w).find(v.selector)}else{if(j(w)){if(!w.data(y)){w.data(y,i('<div class="'+y+'"></div>').insertAfter(w).hide())}w=w.show().detach();v.wrap.bind("onReset",function(){if(i(this).find(w).length){w.hide().replaceAll(w.data(y)).data(y,false)}})}}break;case"image":w=v.tpl.image.replace("{href}",q);break;case"swf":w='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+q+'"></param>';u="";i.each(v.swf,function(z,A){w+='<param name="'+z+'" value="'+A+'"></param>';u+=" "+z+'="'+A+'"'});w+='<embed src="'+q+'" type="application/x-shockwave-flash" width="100%" height="100%"'+u+"></embed></object>";break}if(!(j(w)&&w.parent().is(v.inner))){v.inner.append(w)}p.trigger("beforeShow");v.inner.css("overflow",s==="yes"?"scroll":(s==="no"?"hidden":s));p._setDimension();p.reposition();p.isOpen=false;p.coming=null;p.bindEvents();if(!p.isOpened){i(".fancybox-wrap").not(v.wrap).stop(true).trigger("onReset").remove()}else{if(t.prevMethod){p.transitions[t.prevMethod]()}}p.transitions[p.isOpened?v.nextMethod:v.openMethod]();p._preloadImages()},_setDimension:function(){var T=p.getViewport(),P=0,V=false,X=false,B=p.wrap,N=p.skin,Y=p.inner,K=p.current,L=K.width,I=K.height,E=K.minWidth,x=K.minHeight,R=K.maxWidth,J=K.maxHeight,D=K.scrolling,v=K.scrollOutside?K.scrollbarWidth:0,H=K.margin,w=n(H[1]+H[3]),u=n(H[0]+H[2]),s,r,O,Q,G,F,M,z,y,U,t,W,q,A,C;B.add(N).add(Y).width("auto").height("auto").removeClass("fancybox-tmp");s=n(N.outerWidth(true)-N.width());r=n(N.outerHeight(true)-N.height());O=w+s;Q=u+r;G=m(L)?(T.w-O)*n(L)/100:L;F=m(I)?(T.h-Q)*n(I)/100:I;if(K.type==="iframe"){A=K.content;if(K.autoHeight&&A.data("ready")===1){try{if(A[0].contentWindow.document.location){Y.width(G).height(9999);C=A.contents().find("body");if(v){C.css("overflow-x","hidden")}F=C.height()}}catch(S){}}}else{if(K.autoWidth||K.autoHeight){Y.addClass("fancybox-tmp");if(!K.autoWidth){Y.width(G)}if(!K.autoHeight){Y.height(F)}if(K.autoWidth){G=Y.width()}if(K.autoHeight){F=Y.height()}Y.removeClass("fancybox-tmp")}}L=n(G);I=n(F);y=G/F;E=n(m(E)?n(E,"w")-O:E);R=n(m(R)?n(R,"w")-O:R);x=n(m(x)?n(x,"h")-Q:x);J=n(m(J)?n(J,"h")-Q:J);M=R;z=J;if(K.fitToView){R=Math.min(T.w-O,R);J=Math.min(T.h-Q,J)}W=T.w-w;q=T.h-u;if(K.aspectRatio){if(L>R){L=R;I=n(L/y)}if(I>J){I=J;L=n(I*y)}if(L<E){L=E;I=n(L/y)}if(I<x){I=x;L=n(I*y)}}else{L=Math.max(E,Math.min(L,R));if(K.autoHeight&&K.type!=="iframe"){Y.width(L);I=Y.height()}I=Math.max(x,Math.min(I,J))}if(K.fitToView){Y.width(L).height(I);B.width(L+s);U=B.width();t=B.height();if(K.aspectRatio){while((U>W||t>q)&&L>E&&I>x){if(P++>19){break}I=Math.max(x,Math.min(J,I-10));L=n(I*y);if(L<E){L=E;I=n(L/y)}if(L>R){L=R;I=n(L/y)}Y.width(L).height(I);B.width(L+s);U=B.width();t=B.height()}}else{L=Math.max(E,Math.min(L,L-(U-W)));I=Math.max(x,Math.min(I,I-(t-q)))}}if(v&&D==="auto"&&I<F&&(L+s+v)<W){L+=v}Y.width(L).height(I);B.width(L+s);U=B.width();t=B.height();V=(U>W||t>q)&&L>E&&I>x;X=K.aspectRatio?(L<M&&I<z&&L<G&&I<F):((L<M||I<z)&&(L<G||I<F));i.extend(K,{dim:{width:g(U),height:g(t)},origWidth:G,origHeight:F,canShrink:V,canExpand:X,wPadding:s,hPadding:r,wrapSpace:t-N.outerHeight(true),skinSpace:N.height()-I});if(!A&&K.autoHeight&&I>x&&I<J&&!X){Y.height("auto")}},_getPosition:function(s){var w=p.current,r=p.getViewport(),u=w.margin,t=p.wrap.width()+u[1]+u[3],q=p.wrap.height()+u[0]+u[2],v={position:"absolute",top:u[0],left:u[3]};if(w.autoCenter&&w.fixed&&!s&&q<=r.h&&t<=r.w){v.position="fixed"}else{if(!w.locked){v.top+=r.y;v.left+=r.x}}v.top=g(Math.max(v.top,v.top+((r.h-q)*w.topRatio)));v.left=g(Math.max(v.left,v.left+((r.w-t)*w.leftRatio)));return v},_afterZoomIn:function(){var q=p.current;if(!q){return}p.isOpen=p.isOpened=true;p.wrap.css("overflow","visible").addClass("fancybox-opened");p.update();if(q.closeClick||(q.nextClick&&p.group.length>1)){p.inner.css("cursor","pointer").bind("click.fb",function(r){if(!i(r.target).is("a")&&!i(r.target).parent().is("a")){r.preventDefault();p[q.closeClick?"close":"next"]()}})}if(q.closeBtn){i(q.tpl.closeBtn).appendTo(p.skin).bind("click.fb",function(r){r.preventDefault();p.close()})}if(q.arrows&&p.group.length>1){if(q.loop||q.index>0){i(q.tpl.prev).appendTo(p.outer).bind("click.fb",p.prev)}if(q.loop||q.index<p.group.length-1){i(q.tpl.next).appendTo(p.outer).bind("click.fb",p.next)}}p.trigger("afterShow");if(!q.loop&&q.index===q.group.length-1){p.play(false)}else{if(p.opts.autoPlay&&!p.player.isActive){p.opts.autoPlay=false;p.play()}}},_afterZoomOut:function(q){q=q||p.current;i(".fancybox-wrap").trigger("onReset").remove();i.extend(p,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});p.trigger("afterClose",q)}});p.transitions={getOrigPosition:function(){var t=p.current,r=t.element,w=t.orig,v={},q=50,x=50,u=t.hPadding,y=t.wPadding,s=p.getViewport();if(!w&&t.isDom&&r.is(":visible")){w=r.find("img:first");if(!w.length){w=r}}if(j(w)){v=w.offset();if(w.is("img")){q=w.outerWidth();x=w.outerHeight()}}else{v.top=s.y+(s.h-x)*t.topRatio;v.left=s.x+(s.w-q)*t.leftRatio}if(p.wrap.css("position")==="fixed"||t.locked){v.top-=s.y;v.left-=s.x}v={top:g(v.top-u*t.topRatio),left:g(v.left-y*t.leftRatio),width:g(q+y),height:g(x+u)};return v},step:function(r,s){var u,w,x,q=s.prop,t=p.current,v=t.wrapSpace,y=t.skinSpace;if(q==="width"||q==="height"){u=s.end===s.start?1:(r-s.start)/(s.end-s.start);if(p.isClosing){u=1-u}w=q==="width"?t.wPadding:t.hPadding;x=r-w;p.skin[q](n(q==="width"?x:x-(v*u)));p.inner[q](n(q==="width"?x:x-(v*u)-(y*u)))}},zoomIn:function(){var u=p.current,r=u.pos,s=u.openEffect,t=s==="elastic",q=i.extend({opacity:1},r);delete q.position;if(t){r=this.getOrigPosition();if(u.openOpacity){r.opacity=0.1}}else{if(s==="fade"){r.opacity=0.1}}p.wrap.css(r).animate(q,{duration:s==="none"?0:u.openSpeed,easing:u.openEasing,step:t?this.step:null,complete:p._afterZoomIn})},zoomOut:function(){var t=p.current,r=t.closeEffect,s=r==="elastic",q={opacity:0.1};if(s){q=this.getOrigPosition();if(t.closeOpacity){q.opacity=0.1}}p.wrap.animate(q,{duration:r==="none"?0:t.closeSpeed,easing:t.closeEasing,step:s?this.step:null,complete:p._afterZoomOut})},changeIn:function(){var v=p.current,s=v.nextEffect,r=v.pos,q={opacity:1},u=p.direction,w=200,t;r.opacity=0.1;if(s==="elastic"){t=u==="down"||u==="up"?"top":"left";if(u==="down"||u==="right"){r[t]=g(n(r[t])-w);q[t]="+="+w+"px"}else{r[t]=g(n(r[t])+w);q[t]="-="+w+"px"}}if(s==="none"){p._afterZoomIn()}else{p.wrap.css(r).animate(q,{duration:v.nextSpeed,easing:v.nextEasing,complete:p._afterZoomIn})}},changeOut:function(){var s=p.previous,r=s.prevEffect,q={opacity:0.1},t=p.direction,u=200;if(r==="elastic"){q[t==="down"||t==="up"?"top":"left"]=(t==="up"||t==="left"?"-":"+")+"="+u+"px"}s.wrap.animate(q,{duration:r==="none"?0:s.prevSpeed,easing:s.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}};p.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!f,fixed:true},overlay:null,fixed:false,create:function(q){q=i.extend({},this.defaults,q);if(this.overlay){this.close()}this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=false;if(q.fixed&&p.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(r){var q=this;r=i.extend({},this.defaults,r);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(r)}if(!this.fixed){d.bind("resize.overlay",i.proxy(this.update,this));this.update()}if(r.closeClick){this.overlay.bind("click.overlay",function(s){if(i(s.target).hasClass("fancybox-overlay")){if(p.isActive){p.close()}else{q.close()}}})}this.overlay.css(r.css).show()},close:function(){i(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;if(this.margin!==false){i("body").css("margin-right",this.margin);this.margin=false}if(this.el){this.el.removeClass("fancybox-lock")}},update:function(){var r="100%",q;this.overlay.width(r).height("100%");if(k){q=Math.max(o.documentElement.offsetWidth,o.body.offsetWidth);if(a.width()>q){r=a.width()}}else{if(a.width()>d.width()){r=a.width()}}this.overlay.width(r).height(a.height())},onReady:function(q,r){i(".fancybox-overlay").stop(true,true);if(!this.overlay){this.margin=a.height()>d.height()||i("body").css("overflow-y")==="scroll"?i("body").css("margin-right"):false;this.el=o.all&&!o.querySelector?i("html"):i("body");this.create(q)}if(q.locked&&this.fixed){r.locked=this.overlay.append(r.wrap);r.fixed=false}if(q.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(q,r){if(r.locked){this.el.addClass("fancybox-lock");if(this.margin!==false){i("body").css("margin-right",n(this.margin)+r.scrollbarWidth)}}this.open(q)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(q){if(this.overlay&&!p.isActive){this.overlay.fadeOut(q.speedOut,i.proxy(this.close,this))}}};p.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(r){var t=p.current,v=t.title,q=r.type,u,s;if(i.isFunction(v)){v=v.call(t.element,t)}if(!b(v)||i.trim(v)===""){return}u=i('<div class="fancybox-title fancybox-title-'+q+'-wrap">'+v+"</div>");switch(q){case"inside":s=p.skin;break;case"outside":s=p.wrap;break;case"over":s=p.inner;break;default:s=p.skin;u.appendTo("body");if(k){u.width(u.width())}u.wrapInner('<span class="child"></span>');p.current.margin[2]+=Math.abs(n(u.css("margin-bottom")));break}u[(r.position==="top"?"prependTo":"appendTo")](s)}};i.fn.fancybox2=function(s){var r,t=i(this),q=this.selector||"",u=function(y){var x=i(this).blur(),v=r,w,z;if(!(y.ctrlKey||y.altKey||y.shiftKey||y.metaKey)&&!x.is(".fancybox-wrap")){w=s.groupAttr||"data-fancybox-group";z=x.attr(w);if(!z){w="rel";z=x.get(0)[w]}if(z&&z!==""&&z!=="nofollow"){x=q.length?i(q):t;x=x.filter("["+w+'="'+z+'"]');v=x.index(this)}s.index=v;if(p.open(x,s)!==false){y.preventDefault()}}};s=s||{};r=s.index||0;if(!q||s.live===false){t.unbind("click.fb-start").bind("click.fb-start",u)}else{a.undelegate(q,"click.fb-start").delegate(q+":not('.fancybox-item, .fancybox-nav')","click.fb-start",u)}this.filter("[data-fancybox-start=1]").trigger("click");return this};a.ready(function(){if(i.scrollbarWidth===e){i.scrollbarWidth=function(){var r=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),s=r.children(),q=s.innerWidth()-s.height(99).innerWidth();r.remove();return q}}if(i.support.fixedPosition===e){i.support.fixedPosition=(function(){var r=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),q=(r[0].offsetTop===20||r[0].offsetTop===15);r.remove();return q}())}i.extend(p.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})}(window,document,jQuery));